{% extends 'layout.html' %} {% block title %}정글 식도락{% endblock %} {%block
content %}
<section>
  <h2>프로젝트 목표</h2>
  <p>이 섹션은 프로젝트의 목표와 목표를 설명합니다.</p>
  <button class="add-button" onclick="openModal()">+작성하기</button>
</section>
<section>
  <div class="bg-gray-100">
    <div class="max-w-6xl mx-auto mt-8">
      <div
        class="grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"
      >
        <!-- 크게 만든 카드 리스트 -->
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 1</h2>
          <p class="text-gray-700">내용 1</p>
          <p class="text-gray-700">내용 2</p>
          <p class="text-gray-700">내용 3</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 2</h2>
          <p class="text-gray-700">내용 2</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 3</h2>
          <p class="text-gray-700">내용 3</p>
        </div>
        <!-- 필요한 만큼 카드를 추가하여 리스트 확장 가능 -->
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 4</h2>
          <p class="text-gray-700">내용 4</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 5</h2>
          <p class="text-gray-700">내용 5</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 6</h2>
          <p class="text-gray-700">내용 6</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 7</h2>
          <p class="text-gray-700">내용 7</p>
        </div>
        <div class="bg-white rounded-lg overflow-hidden shadow-md p-6 card">
          <h2 class="text-xl font-bold mb-4">제목 8</h2>
          <p class="text-gray-700">내용 8</p>
        </div>
        <!-- 필요한 만큼 카드를 추가하여 리스트 확장 가능 -->
      </div>
    </div>
  </div>
</section>
<!-- 모달 -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <label for="search">검색:</label>
    <input
      type="text"
      id="search"
      name="search"
      placeholder="정확한 상호명을 입력하세요"
    />
    <button onclick="sendRequest()">Send Request</button>
    <br />
    <ul id="searchResultList"></ul>
    <!-- 결과를 리스트 형태로 표시할 요소 -->
    <br />
    <form class="restaurant_information">
      <label class="restaurant_name" id="restaurantNameLabel">가게명:</label
      ><br />
      <label class="restaurant_address" id="restaurantaddressLabel">주소:</label
      ><br />
      <label class="restaurant_link" id="restaurantlinkLabel">링크:</label
      ><br />
      <label for="content">내용:</label>
      <textarea id="content" name="content"></textarea>
      <br />
    </form>
    <button onclick="saveItem()">확인</button>
    <button onclick="closeModal()">취소</button>
  </div>
</div>
<!-- 여기에 나머지 페이지 내용을 추가하세요 -->
{% endblock %} {% block script %}

<!-- 네이버 지도 검색 API 스크립트 -->
<script
  type="text/javascript"
  src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=qwYeDHfb22N5SlsoHEvL"
></script>
<script>
  // 모달 열기
  function openModal() {
    document.getElementById("myModal").style.display = "block";
  }
  // 모달 닫기
  function closeModal() {
    document.getElementById("myModal").style.display = "none";
  }
  // 아이템 저장
  function saveItem() {
    // URL과 내용을 가져옵니다.
    var url = document.getElementById("url").value;
    var content = document.getElementById("content").value;
    // 저장하는 로직을 여기에 추가하세요.
    console.log("URL:", url);
    console.log("내용:", content);
    // 모달을 닫습니다.
    closeModal();
  }
  function sendRequest() {
    var search = $("#search").val();
    $.ajax({
      url: "/write",
      type: "POST",
      data: { search_give: search }, // 검색어를 서버로 전달
      success: function (response) {
        var title = response.title;
        var address = response.address;
        var link = response.link;

        $("#restaurantNameLabel").text("가게명: " + title); // 모달 내 "가게명" 옆에 가게명 설정
        $("#restaurantaddressLabel").text("주소: " + address); // 모달 내 "주소" 옆에 가게명 설정
        $("#restaurantlinkLabel").text("링크: " + link); // 모달 내 "링크" 옆에 가게명 설정

        console.log(title);
        console.log(address);
        console.log(link);
      },
    });
  }
  // $(document).ready(function() {
  //     $('#myModal').submit(function(event) {
  //         event.preventDefault(); // 기본 동작 방지
  //         // URL 데이터 가져오기
  //         var search = $('#search').val();
  //         // AJAX 요청 보내기
  //         $.ajax({
  //             type: 'POST',
  //             url: '/write',
  //             data: {search_give : search},
  //             success: function(response) {
  //             }
  //         })
  //     })
  // })
</script>
{% endblock %}
